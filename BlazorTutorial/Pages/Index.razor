@page "/"
@using BlazorTutorial.Web.Lib.Contexts
@using BlazorTutorial.Web.Lib.Components

@hold

@code{

    RenderFragment hold { get; set; }
    BasicDivContext _basicDivContext { get; set; }   
    
    public Index()
    {
        _basicDivContext = new();
        _basicDivContext.Text = "I modified the inner html";

        _basicDivContext.OnMouseDown += _ =>
        {
            
        };
        
        
        hold = @<BasicDiv Context=@(_basicDivContext)>_basicDivContext.Text</BasicDiv>;
        Task.Delay(1000).ContinueWith(e =>
        {
            _basicDivContext.SourceComponent.AddClass = "newclass";
            _basicDivContext.SourceComponent.AddClass = "someclass";
            _basicDivContext.SetText("blah blah");
            _basicDivContext.SourceComponent.SyncComponent();
    //_basicDivContext.SetText("what");
        });
    }

}